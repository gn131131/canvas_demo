(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(n,e,t){var r=t(2),o=t(5);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[n.i,o,""]]);var a=(r(n.i,o,{insert:"head",singleton:!1}),o.locals?o.locals:{});n.exports=a},function(n,e,t){(e=t(1)(!1)).push([n.i,'body,\r\ndl,\r\ndd,\r\nul,\r\nol,\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6,\r\npre,\r\nform,\r\ninput,\r\ntextarea,\r\np,\r\nhr,\r\nthead,\r\ntbody,\r\ntfoot,\r\nth,\r\ntd {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\nul,\r\nol {\r\n  list-style: none;\r\n}\r\na {\r\n  text-decoration: none;\r\n}\r\nhtml {\r\n  -ms-text-size-adjust: none;\r\n  -webkit-text-size-adjust: none;\r\n  text-size-adjust: none;\r\n}\r\nbody {\r\n  line-height: 1.5;\r\n  font-size: 14px;\r\n}\r\nbody,\r\nbutton,\r\ninput,\r\nselect,\r\ntextarea {\r\n  font-family: "helvetica neue", tahoma, "hiragino sans gb", stheiti,\r\n    "wenquanyi micro hei", \\5fae\\8f6f\\96c5\\9ed1, \\5b8b\\4f53, sans-serif;\r\n}\r\nb,\r\nstrong {\r\n  font-weight: bold;\r\n}\r\ni,\r\nem {\r\n  font-style: normal;\r\n}\r\ntable {\r\n  border-collapse: collapse;\r\n  border-spacing: 0;\r\n}\r\ntable th,\r\ntable td {\r\n  border: 1px solid #ddd;\r\n  padding: 5px;\r\n}\r\ntable th {\r\n  font-weight: inherit;\r\n  border-bottom-width: 2px;\r\n  border-bottom-color: #ccc;\r\n}\r\nimg {\r\n  border: 0 none;\r\n  width: auto\\9;\r\n  max-width: 100%;\r\n  vertical-align: top;\r\n  height: auto;\r\n}\r\nbutton,\r\ninput,\r\nselect,\r\ntextarea {\r\n  font-family: inherit;\r\n  font-size: 100%;\r\n  margin: 0;\r\n  vertical-align: baseline;\r\n}\r\nbutton,\r\nhtml input[type="button"],\r\ninput[type="reset"],\r\ninput[type="submit"] {\r\n  -webkit-appearance: button;\r\n  cursor: pointer;\r\n}\r\nbutton[disabled],\r\ninput[disabled] {\r\n  cursor: default;\r\n}\r\ninput[type="checkbox"],\r\ninput[type="radio"] {\r\n  box-sizing: border-box;\r\n  padding: 0;\r\n}\r\ninput[type="search"] {\r\n  -webkit-appearance: textfield;\r\n  -moz-box-sizing: content-box;\r\n  -webkit-box-sizing: content-box;\r\n  box-sizing: content-box;\r\n}\r\ninput[type="search"]::-webkit-search-decoration {\r\n  -webkit-appearance: none;\r\n}\r\ninput:focus {\r\n  outline: none;\r\n}\r\nselect[size],\r\nselect[multiple],\r\nselect[size][multiple] {\r\n  border: 1px solid #aaa;\r\n  padding: 0;\r\n}\r\narticle,\r\naside,\r\ndetails,\r\nfigcaption,\r\nfigure,\r\nfooter,\r\nheader,\r\nhgroup,\r\nmain,\r\nnav,\r\nsection,\r\nsummary {\r\n  display: block;\r\n}\r\naudio,\r\ncanvas,\r\nvideo,\r\nprogress {\r\n  display: inline-block;\r\n}\r\nbody {\r\n  background: #fff;\r\n}\r\ninput::-webkit-input-speech-button {\r\n  display: none;\r\n}\r\nbutton,\r\ninput,\r\ntextarea {\r\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n}\r\n',""]),n.exports=e},function(n,e,t){var r=t(2),o=t(7);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[n.i,o,""]]);var a=(r(n.i,o,{insert:"head",singleton:!1}),o.locals?o.locals:{});n.exports=a},function(n,e,t){var r=t(1),o=t(8),a=t(9),i=t(11);(e=r(!1)).i(o),e.i(a),e.i(i),e.push([n.i,"",""]),n.exports=e},function(n,e,t){(e=t(1)(!1)).push([n.i,".color-red {\r\n  color: red;\r\n}\r\n",""]),n.exports=e},function(n,e,t){var r=t(1),o=t(3),a=t(10);e=r(!1);var i=o(a);e.push([n.i,".main_background {\r\n  background: url("+i+") no-repeat center center / cover;\r\n}",""]),n.exports=e},function(n,e,t){"use strict";t.r(e),e.default=t.p+"images/00168cecf7c208917473f3e37c8ba787.jpg"},function(n,e,t){var r=t(1),o=t(3),a=t(12);e=r(!1);var i=o(a);e.push([n.i,'@font-face {\r\n  font-family: "MyFont";\r\n  src: url('+i+');\r\n}\r\n\r\n.font-simkai {\r\n  font-family: "MyFont";\r\n}\r\n',""]),n.exports=e},function(n,e,t){"use strict";t.r(e),e.default=t.p+"fonts/6078b506afa793576f8a93475aab95b8.ttf"},function(n,e,t){"use strict";t.r(e),t(4),t(6);var r=t(0),o=t.n(r),a=t.p+"images/209ae68b00cc1da8ceecd82d61709fa4.png",i=t.p+"images/3ab9d8e10ef51af724e060af8a0e40fd.png",s=t.p+"images/b4cc7f3db6c65422589019f227618267.png",c=t.p+"images/967fed9f32a9c2cb0a78608245286083.png",d=t.p+"images/a0c6d77a516bd6740fde3f5d95d9726b.png",l=t.p+"images/16d05ede6239bcdf8c8ff86f6e6f558b.png",u={canvasNode:document.getElementById("mainCanvas"),mainCtx:document.getElementById("mainCanvas").getContext("2d"),ctx:null,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight,interface:"menu",menu:{mode:"star",star:{tiny:{maxNumber:200,color:"#fff",radius:1,speed:2},big:{},text:{content:[{name:"测试",x:200,y:150,w:40,h:20,color:"#fff",font:20}],focus:!1}}},game:{mode:"snake",snake:{game:{rectWidth:10,start:!1},wall:{x:4,y:4,w:80,h:50,color:"#000"},player:{oriAxis:{x:10,y:10},oriLength:5,oriSpeed:50,color:"#ff0000",speedUpIntervalCount:5,scoreAxis:{x:900,y:40},scoreColor:"#fff",scoreText:"分数",scoreFont:20},food:{count:10}}},cursor:{axisX:null,axisY:null,isClicked:!1,isMoving:!1,rect:{offsetXScope:[30,-30],offsetYScope:[30,-30],widthScope:[20,3],borderWidth:1,speed:59,showNumber:20,mode:"rect",picArray:[a,i,s,c,d,l]}}};u.game.snake.wall.x=u.game.snake.wall.x*u.game.snake.game.rectWidth,u.game.snake.wall.y=u.game.snake.wall.y*u.game.snake.game.rectWidth,u.game.snake.wall.w=u.game.snake.wall.w*u.game.snake.game.rectWidth,u.game.snake.wall.h=u.game.snake.wall.h*u.game.snake.game.rectWidth,u.game.snake.player.oriAxis.x=u.game.snake.player.oriAxis.x*u.game.snake.game.rectWidth,u.game.snake.player.oriAxis.y=u.game.snake.player.oriAxis.y*u.game.snake.game.rectWidth;var f=u,m={init:function(){this.resize(),this.mouseMove(),this.mouseUp(),this.mouseDown(),this.mouseLeave(),this.keyDown()},resize:function(){o()(window).resize((function(){f.clientWidth=document.documentElement.clientWidth,f.clientHeight=document.documentElement.clientHeight}))},mouseMove:function(){o()("#mainCanvas").off("mousemove").on("mousemove",(function(n){f.cursor.isMoving=!0,f.cursor.axisX=n.offsetX,f.cursor.axisY=n.offsetY;var e=f.menu[f.menu.mode].text;o.a.each(e.content,(function(n,t){var r,o,a,i;(r=t.x,o=t.y,a=t.w,i=t.h,new Promise((function(n,e){(f.cursor.axisX<=r+a&&f.cursor.axisX>=r&&f.cursor.axisY<=o+i&&f.cursor.axisY>=o?n:e)()}))).then((function(){e.focus=!0,f.canvasNode.style.cursor="pointer"}),(function(){e.focus=!1,f.canvasNode.style.cursor="default"}))}))}))},mouseDown:function(){o()("#mainCanvas").off("mousedown").on("mousedown",(function(n){f.cursor.isClicked=!0}))},mouseUp:function(){o()("#mainCanvas").off("mouseup").on("mouseup",(function(n){f.cursor.isClicked=!1}))},mouseLeave:function(){o()("#mainCanvas").off("mouseleave").on("mouseleave",(function(n){f.cursor.isClicked=!1}))},keyDown:function(){o()(window).off("keydown").on("keydown",(function(n){if("snake"===f.game.mode){var e=function(n){t.position.shift(0),t.position.push(n)};n.preventDefault();var t=f.game[f.game.mode].player;switch(f.game[f.game.mode].game.start=!0,n.keyCode){case 37:"right"!==t.position[0]&&e("left");break;case 38:"bottom"!==t.position[0]&&e("top");break;case 39:"left"!==t.position[0]&&e("right");break;case 40:"top"!==t.position[0]&&e("bottom")}}}))}},h=function(n,e,t,r,o){var a=null;function i(){if(0<=e)a=o?Math.random()*(n-e+1)+e:Math.floor(Math.random()*(n-e+1))+e;else if(e<0){var r=0;if(0<=n)switch(r=e/(e-n),Math.random()>r?"max":"min"){case"max":a=o?Math.random()*n:Math.floor(Math.random()*n);break;case"min":a=o?-Math.random()*-e:-Math.floor(Math.random()*-e)}else a=o?-Math.random()*(-e- -n+1)-n:-Math.floor(Math.random()*(-e- -n+1))-n}t&&!o&&a/t!=0&&(a=t/2<=a%t?Math.ceil(a/t)*t:Math.floor(a/t)*t)}if(e=e||0,r)for(;null===a||0===a;)i();else i();return a},p=function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},g=function(n){return n[Math.floor(Math.random()*n.length)]},y=function(n){n.width=f.clientWidth,n.height=f.clientHeight},x=function(n,e,t,r){n.beginPath(),t=t||"#000",r=r||1,n.lineWidth=r,n.strokeStyle=t,n.moveTo(e[0].x,e[0].y),o.a.each(e,(function(e,t){n.lineTo(t.x,t.y)})),n.closePath()},w=function(n,e,t,r,o,a,i,s,c){n.lineWidth=c||0,!0===i?(n.strokeStyle=s,n.strokeRect(e,t,r,o)):(n.fillStyle=a,n.fillRect(e,t,r,o))},b=function(n,e,t,r,o){n.clearRect(e,t,r,o)},v=function(n,e,t,r,o,a){n.drawImage(e,Math.floor(t),Math.floor(r),Math.floor(o),Math.floor(a))},k=function(n,e,t,r,o,a){a=a||"#000";var i=o?"number"==typeof o?o+"px sans-serif":o:"10px sans-serif";n.font=i,n.fillStyle=a,n.fillText(e,t,r+o)},W=function(n,e,t,r,o,a,i,s){n.beginPath(),n.lineWidth=s||0,n.arc(t,r,e,0,2*Math.PI),!0===a?n.strokeStyle=i:(n.strokeStyle=o,n.fillStyle=o,n.fill()),n.closePath()},I={init:function(){y(f.canvasNode),m.init(),window.requestAnimationFrame(this.canvasControllerMainFn)},canvasControllerMainFn:function(){I.clearAll(),I.render(),window.requestAnimationFrame(I.canvasControllerMainFn)},render:function(){var n=document.createElement("canvas");y(n),f.ctx=n.getContext("2d"),"game"===f.interface?I.game[f.game.mode].drawGame():"menu"===f.interface&&I.menu[f.menu.mode].drawMenu(),f.cursor.axisX&&f.cursor.axisY&&f.cursor.isClicked?I.cursor.drawAnimation():I.cursor.resetInfo(),v(f.mainCtx,n,0,0,f.clientWidth,f.clientHeight)},clearAll:function(){b(f.mainCtx,0,0,f.clientWidth,f.clientHeight)},menu:{star:{drawMenu:function(){this.initInfo(),this.drawMenuText(),this.drawTinyStar(),f.menu.star.text.focus||this.tinyStarMoveAuto(),this.lineConnect()},initInfo:function(){this.initMenuTextInfo(),this.initTinyStarInfo()},initMenuTextInfo:function(){},drawMenuText:function(){var n=f.menu.star.text;o.a.each(n.content,(function(n,e){k(f.ctx,e.name,e.x,e.y,e.font,e.color)}))},initTinyStarInfo:function(){var n=f.menu.star.tiny;if(n.axis=n.axis||[],0===n.axis.length)for(var e=0;e<n.maxNumber;e++)n.axis.push({x:h(f.clientWidth),y:h(f.clientHeight),velocityX:h(n.speed,-n.speed,null,!0,!0),velocityY:h(n.speed,-n.speed,null,!0,!0),color:n.color})},drawTinyStar:function(){var n=f.menu.star.tiny;o.a.each(n.axis,(function(e,t){W(f.ctx,n.radius,t.x,t.y,t.color,!1)})),f.ctx.stroke()},tinyStarMoveAuto:function(){var n=f.menu.star.tiny;o.a.each(n.axis,(function(n,e){e.x+=e.velocityX,e.y+=e.velocityY,(e.x>=f.clientWidth||e.x<=0)&&(e.velocityX=-e.velocityX),(e.y>=f.clientHeight||e.y<=0)&&(e.velocityY=-e.velocityY)}))},lineConnect:function(){}}},game:{snake:{drawGame:function(){this.drawWall(),this.drawPlayer(),this.drawScore()},drawWall:function(){var n=f.game.snake.game,e=f.game.snake.wall,t=e.x+n.rectWidth/2,r=e.y+n.rectWidth/2;e.axis=[{x:t,y:r},{x:t+e.w,y:r},{x:t+e.w,y:r+e.h},{x:t,y:r+e.h}],x(f.ctx,e.axis,e.color,n.rectWidth),f.ctx.stroke()},drawPlayer:function(){var n=f.game.snake.game;this.initPlayerInfo(),this.drawPlayerByInfo(),!0===n.start&&(this.generateFoodInfo(),this.drawFoodByInfo(),this.playerMoveByPosition(),this.eatFood(),this.checkSpeedUp(),this.checkCollision())},initPlayerInfo:function(){var n=f.game.snake;if(n.player.score=n.player.score||0,n.player.speedCount=n.player.speedCount||0,n.player.speed=n.player.speed||60-n.player.oriSpeed,n.player.count=n.player.count||0,n.player.position=n.player.position||["right","right"],n.food.axis=n.food.axis||[],!1===n.game.start){n.player.axis=[];for(var e=0;e<n.player.oriLength;e++)n.player.axis.push({x:n.player.oriAxis.x+e*n.game.rectWidth,y:n.player.oriAxis.y})}},resetInfo:function(){var n=f.game.snake;n.game.start=!1,n.player.position=["right","right"],n.player.count=0,n.player.length=n.player.oriLength,n.player.speed=60-n.player.oriSpeed,n.player.score=0,n.player.speedCount=0,n.food.axis=[]},drawPlayerByInfo:function(){var n=f.game.snake.game,e=f.game.snake.player;o.a.each(e.axis,(function(t,r){w(f.ctx,r.x,r.y,n.rectWidth,n.rectWidth,e.color)}))},playerMoveByPosition:function(){var n=f.game.snake.game,e=f.game.snake.player;if(e.count++,e.count===e.speed){!0===e.eating?e.eating=!1:e.axis.shift(0);var t=JSON.parse(JSON.stringify(e.axis[e.axis.length-1]));"right"===e.position[1]?t.x=t.x+n.rectWidth:"left"===e.position[1]?t.x=t.x-n.rectWidth:"top"===e.position[1]?t.y=t.y-n.rectWidth:"bottom"===e.position[1]&&(t.y=t.y+n.rectWidth),e.axis.push(t),e.count=0,e.position[0]=e.position[1]}},checkCollision:function(){var n=this,e=f.game.snake.game,t=f.game.snake.wall,r=f.game.snake.player,a=r.axis[r.axis.length-1];o.a.each(r.axis,(function(e,t){a.x===t.x&&a.y===t.y&&e!==r.axis.length-1&&n.resetInfo()})),(a.x<t.x+e.rectWidth||a.x>t.x+t.w-e.rectWidth||a.y<t.y+e.rectWidth||a.y>t.y+t.h-e.rectWidth)&&this.resetInfo()},generateFoodInfo:function(){var n=f.game.snake.food,e=f.game.snake.game,t=f.game.snake.wall;if(n.axis.length<n.count)for(var r=0;r<n.count;r++)n.axis.push({x:h(t.x+t.w-e.rectWidth,t.x+e.rectWidth,e.rectWidth),y:h(t.y+t.h-e.rectWidth,t.y+e.rectWidth,e.rectWidth),color:p()})},drawFoodByInfo:function(){var n=f.game.snake.game,e=f.game.snake.food;o.a.each(e.axis,(function(e,t){w(f.ctx,t.x,t.y,n.rectWidth,n.rectWidth,t.color)}))},eatFood:function(){for(var n=f.game.snake.food,e=f.game.snake.player,t=f.game.snake.wall,r=f.game.snake.game,o=e.axis[e.axis.length-1],a=0;a<n.count;a++)n.axis[a].x==o.x&&n.axis[a].y==o.y&&(n.axis[a].x=h(t.x+t.w,t.x,r.rectWidth),n.axis[a].y=h(t.y+t.h,t.y,r.rectWidth),n.axis[a].color=p(),e.eating=!0,e.score++,e.speedCount++)},checkSpeedUp:function(){var n=f.game.snake.player;0!==n.speedCount&&n.speedCount%n.speedUpIntervalCount==0&&1<n.speed&&(n.speedCount=0,n.speed--)},drawScore:function(){var n=f.game.snake.player;k(f.ctx,"".concat(n.scoreText,": ").concat(n.score),n.scoreAxis.x,n.scoreAxis.y,n.scoreFont,n.scoreColor)}}},cursor:{drawAnimation:function(){var n=this,e=f.cursor.rect;e.count=e.count||0,e.count++,e.randomInfoArray=e.randomInfoArray||[],e.imageArray=e.imageArray||[],"picture"===e.mode&&0===e.imageArray.length&&o.a.each(e.picArray,(function(n,t){var r=new Image;r.src=t,e.imageArray.push(r)})),e.count===60-e.speed&&(e.randomInfoArray.length===e.showNumber?(e.currentIndex=e.currentIndex||0,e.randomInfoArray[e.currentIndex]=I.cursor.generateInfo(f.cursor),e.currentIndex===e.randomInfoArray.length-1?e.currentIndex=0:e.currentIndex++):e.randomInfoArray.push(I.cursor.generateInfo(f.cursor)),e.count=0),o.a.each(e.randomInfoArray,(function(t,r){"rect"===e.mode?n.drawRectByRandomInfo(r):"picture"===e.mode&&n.drawPicByRandomInfo(r)}))},resetInfo:function(){var n=f.cursor.rect;n.randomInfoArray=[],n.count=0,n.currentIndex=0},generateInfo:function(n){var e=f.cursor.rect,t={x:n.axisX,y:n.axisY,randomOffsetX:h(e.offsetXScope[0],e.offsetXScope[1]),randomOffsetY:h(e.offsetYScope[0],e.offsetYScope[1]),randomWidth:h(e.widthScope[0],e.widthScope[1]),randomColor:p(),randomImage:g(e.imageArray)};return t.randomHeight=t.randomWidth,t},drawRectByRandomInfo:function(n){w(f.ctx,n.x+n.randomOffsetX-n.randomWidth/2,n.y+n.randomOffsetY-n.randomHeight/2,n.randomWidth,n.randomHeight,null,!0,n.randomColor,f.cursor.rect.borderWidth)},drawPicByRandomInfo:function(n){v(f.ctx,n.randomImage,n.x+n.randomOffsetX-n.randomWidth/2,n.y+n.randomOffsetY-n.randomHeight/2,n.randomWidth,n.randomHeight)}}},M=I,A=function(){M.init()};o()(document).ready((function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRquestAniamtionFrame||window.oRequestAnimationFrame||function(n){return setTimeout(n,Math.floor(1e3/60))}),A()}))}],[[13,1,2]]]);
//# sourceMappingURL=app.bundle.js.map