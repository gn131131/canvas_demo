{"version":3,"sources":["webpack:///./src/vendor/flexble/base.css","webpack:///./src/vendor/flexble/base.css?c677","webpack:///./src/style.css?7163","webpack:///./src/style.css","webpack:///./src/assets/style/color.css","webpack:///./src/assets/style/background.css","webpack:///./src/assets/style/font.css","webpack:///./src/assets/font/simkai.ttf","webpack:///./src/assets/image/peach/1.png","webpack:///./src/assets/image/peach/2.png","webpack:///./src/assets/image/peach/3.png","webpack:///./src/assets/image/peach/4.png","webpack:///./src/assets/image/peach/5.png","webpack:///./src/assets/image/peach/6.png","webpack:///./src/js/model.js","webpack:///./src/js/eventListener.js","webpack:///./src/js/utils.js","webpack:///./src/js/canvasFn.js","webpack:///./src/js/controller.js","webpack:///./src/js/main.js","webpack:///./src/index.js"],"names":["exports","r","___CSS_LOADER_API_IMPORT___","push","module","i","api","content","__esModule","default","exported","locals","___CSS_LOADER_AT_RULE_IMPORT_0___","___CSS_LOADER_AT_RULE_IMPORT_1___","___CSS_LOADER_AT_RULE_IMPORT_2___","___CSS_LOADER_AT_RULE_IMPORT_3___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___","e","mainModel","canvasNode","document","getElementById","ctx","getContext","clientWidth","documentElement","clientHeight","game","mode","snake","rectWidth","start","wall","x","y","w","h","color","player","oriAxis","oriLength","position","countInterval","food","count","cursor","axisX","axisY","isClicked","isMoving","rect","offsetXScope","offsetYScope","widthScope","borderWidth","showNumber","picArray","img1","img2","img3","img4","img5","img6","eventListenerFn","init","this","mouseMove","mouseUp","mouseDown","mouseLeave","keyDown","$","off","on","offsetX","offsetY","window","preventDefault","playerModel","keyCode","utilsFn","max","min","multiple","number","getResult","Math","floor","random","maxPer","toString","array","length","canvasFn","node","width","height","beginPath","moveTo","each","item","lineTo","closePath","lineWidth","strokeStyle","stroke","isEmpty","borderColor","strokeRect","fillStyle","fillRect","clearRect","image","drawImage","controllerFn","requestAnimationFrame","canvasControllerMainFn","clearAll","drawGame","drawAnimation","resetInfo","drawWall","drawPlayer","gameModel","wallModel","axis","generatePlayerInfo","drawPlayerByInfo","generateFoodInfo","drawFoodByInfo","playerMoveByPosition","eatFood","checkCollision","model","eating","shift","tempObj","JSON","parse","stringify","lastAxis","foodModel","utils","headAxis","rectModel","randomInfoArray","imageArray","Image","src","currentIndex","generateInfo","drawRectByRandomInfo","drawPicByRandomInfo","randomRectInfo","randomOffsetX","randomOffsetY","randomWidth","randomColor","randomImage","randomHeight","obj","mainObj","ready","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRquestAniamtionFrame","oRequestAnimationFrame","callback","setTimeout","mainFn"],"mappings":"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","file":"app.bundle.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body,\\r\\ndl,\\r\\ndd,\\r\\nul,\\r\\nol,\\r\\nh1,\\r\\nh2,\\r\\nh3,\\r\\nh4,\\r\\nh5,\\r\\nh6,\\r\\npre,\\r\\nform,\\r\\ninput,\\r\\ntextarea,\\r\\np,\\r\\nhr,\\r\\nthead,\\r\\ntbody,\\r\\ntfoot,\\r\\nth,\\r\\ntd {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n}\\r\\nul,\\r\\nol {\\r\\n  list-style: none;\\r\\n}\\r\\na {\\r\\n  text-decoration: none;\\r\\n}\\r\\nhtml {\\r\\n  -ms-text-size-adjust: none;\\r\\n  -webkit-text-size-adjust: none;\\r\\n  text-size-adjust: none;\\r\\n}\\r\\nbody {\\r\\n  line-height: 1.5;\\r\\n  font-size: 14px;\\r\\n}\\r\\nbody,\\r\\nbutton,\\r\\ninput,\\r\\nselect,\\r\\ntextarea {\\r\\n  font-family: \\\"helvetica neue\\\", tahoma, \\\"hiragino sans gb\\\", stheiti,\\r\\n    \\\"wenquanyi micro hei\\\", \\\\5fae\\\\8f6f\\\\96c5\\\\9ed1, \\\\5b8b\\\\4f53, sans-serif;\\r\\n}\\r\\nb,\\r\\nstrong {\\r\\n  font-weight: bold;\\r\\n}\\r\\ni,\\r\\nem {\\r\\n  font-style: normal;\\r\\n}\\r\\ntable {\\r\\n  border-collapse: collapse;\\r\\n  border-spacing: 0;\\r\\n}\\r\\ntable th,\\r\\ntable td {\\r\\n  border: 1px solid #ddd;\\r\\n  padding: 5px;\\r\\n}\\r\\ntable th {\\r\\n  font-weight: inherit;\\r\\n  border-bottom-width: 2px;\\r\\n  border-bottom-color: #ccc;\\r\\n}\\r\\nimg {\\r\\n  border: 0 none;\\r\\n  width: auto\\\\9;\\r\\n  max-width: 100%;\\r\\n  vertical-align: top;\\r\\n  height: auto;\\r\\n}\\r\\nbutton,\\r\\ninput,\\r\\nselect,\\r\\ntextarea {\\r\\n  font-family: inherit;\\r\\n  font-size: 100%;\\r\\n  margin: 0;\\r\\n  vertical-align: baseline;\\r\\n}\\r\\nbutton,\\r\\nhtml input[type=\\\"button\\\"],\\r\\ninput[type=\\\"reset\\\"],\\r\\ninput[type=\\\"submit\\\"] {\\r\\n  -webkit-appearance: button;\\r\\n  cursor: pointer;\\r\\n}\\r\\nbutton[disabled],\\r\\ninput[disabled] {\\r\\n  cursor: default;\\r\\n}\\r\\ninput[type=\\\"checkbox\\\"],\\r\\ninput[type=\\\"radio\\\"] {\\r\\n  box-sizing: border-box;\\r\\n  padding: 0;\\r\\n}\\r\\ninput[type=\\\"search\\\"] {\\r\\n  -webkit-appearance: textfield;\\r\\n  -moz-box-sizing: content-box;\\r\\n  -webkit-box-sizing: content-box;\\r\\n  box-sizing: content-box;\\r\\n}\\r\\ninput[type=\\\"search\\\"]::-webkit-search-decoration {\\r\\n  -webkit-appearance: none;\\r\\n}\\r\\ninput:focus {\\r\\n  outline: none;\\r\\n}\\r\\nselect[size],\\r\\nselect[multiple],\\r\\nselect[size][multiple] {\\r\\n  border: 1px solid #aaa;\\r\\n  padding: 0;\\r\\n}\\r\\narticle,\\r\\naside,\\r\\ndetails,\\r\\nfigcaption,\\r\\nfigure,\\r\\nfooter,\\r\\nheader,\\r\\nhgroup,\\r\\nmain,\\r\\nnav,\\r\\nsection,\\r\\nsummary {\\r\\n  display: block;\\r\\n}\\r\\naudio,\\r\\ncanvas,\\r\\nvideo,\\r\\nprogress {\\r\\n  display: inline-block;\\r\\n}\\r\\nbody {\\r\\n  background: #fff;\\r\\n}\\r\\ninput::-webkit-input-speech-button {\\r\\n  display: none;\\r\\n}\\r\\nbutton,\\r\\ninput,\\r\\ntextarea {\\r\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\r\\n}\\r\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./base.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(module.id, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(module.id, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_0___ = require(\"-!../node_modules/css-loader/dist/cjs.js!./vendor/flexble/base.css\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_1___ = require(\"-!../node_modules/css-loader/dist/cjs.js!./assets/style/color.css\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_2___ = require(\"-!../node_modules/css-loader/dist/cjs.js!./assets/style/background.css\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_3___ = require(\"-!../node_modules/css-loader/dist/cjs.js!./assets/style/font.css\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_1___);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_2___);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_3___);\n// Module\nexports.push([module.id, \"\\r\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".color-red {\\r\\n  color: red;\\r\\n}\\r\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../font/simkai.ttf\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \"@font-face {\\r\\n  font-family: \\\"MyFont\\\";\\r\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\r\\n}\\r\\n\\r\\n.font-simkai {\\r\\n  font-family: \\\"MyFont\\\";\\r\\n}\\r\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export default __webpack_public_path__ + \"fonts/6078b506afa793576f8a93475aab95b8.ttf\";","export default __webpack_public_path__ + \"images/209ae68b00cc1da8ceecd82d61709fa4.png\";","export default __webpack_public_path__ + \"images/3ab9d8e10ef51af724e060af8a0e40fd.png\";","export default __webpack_public_path__ + \"images/b4cc7f3db6c65422589019f227618267.png\";","export default __webpack_public_path__ + \"images/967fed9f32a9c2cb0a78608245286083.png\";","export default __webpack_public_path__ + \"images/a0c6d77a516bd6740fde3f5d95d9726b.png\";","export default __webpack_public_path__ + \"images/16d05ede6239bcdf8c8ff86f6e6f558b.png\";","/*\r\n * @Description: 常量数据模型\r\n * @Version: 1.0\r\n * @Autor: Pumpking\r\n * @Date: 2020-02-11 20:33:15\r\n * @LastEditors: Pumpking\r\n * @LastEditTime: 2020-02-15 14:45:03\r\n */\r\nimport $ from \"jquery\";\r\nimport img1 from '../assets/image/peach/1.png';\r\nimport img2 from '../assets/image/peach/2.png';\r\nimport img3 from '../assets/image/peach/3.png';\r\nimport img4 from '../assets/image/peach/4.png';\r\nimport img5 from '../assets/image/peach/5.png';\r\nimport img6 from '../assets/image/peach/6.png';\r\n\r\nlet mainModel = {\r\n  canvasNode: document.getElementById(\"mainCanvas\"),\r\n  ctx: document.getElementById(\"mainCanvas\").getContext('2d'),\r\n  clientWidth: document.documentElement.clientWidth,\r\n  clientHeight: document.documentElement.clientHeight,\r\n  game: {\r\n    mode: 'snake',\r\n    snake: {\r\n      game: {\r\n        rectWidth: 10,\r\n        start: false\r\n      },\r\n      wall: {\r\n        x: 4,\r\n        y: 4,\r\n        w: 80,\r\n        h: 50,\r\n        color: '#000'\r\n      },\r\n      player: {\r\n        oriAxis: {\r\n          x: 10,\r\n          y: 10\r\n        },\r\n        oriLength: 5,\r\n        color: '#ff0000',\r\n        position: 'right',\r\n        countInterval: 5\r\n      },\r\n      food: {\r\n        count: 2\r\n      }\r\n    }\r\n  },\r\n  cursor: {\r\n    axisX: null,\r\n    axisY: null,\r\n    isClicked: false,\r\n    isMoving: false,\r\n    rect: {\r\n      offsetXScope: [20, -20],\r\n      offsetYScope: [20, -20],\r\n      widthScope: [20, 3],\r\n      borderWidth: 1,\r\n      countInterval: 1,\r\n      showNumber: 20,\r\n      mode: 'rect', // 'picture' 'rect'\r\n      picArray: [img1, img2, img3, img4, img5, img6],\r\n    }\r\n  }\r\n};\r\n\r\nfunction linkInfo() {\r\n  mainModel.game.snake.wall.x = mainModel.game.snake.wall.x * mainModel.game.snake.game.rectWidth;\r\n  mainModel.game.snake.wall.y = mainModel.game.snake.wall.y * mainModel.game.snake.game.rectWidth;\r\n  mainModel.game.snake.wall.w = mainModel.game.snake.wall.w * mainModel.game.snake.game.rectWidth;\r\n  mainModel.game.snake.wall.h = mainModel.game.snake.wall.h * mainModel.game.snake.game.rectWidth;\r\n  mainModel.game.snake.player.oriAxis.x = mainModel.game.snake.player.oriAxis.x * mainModel.game.snake.game.rectWidth;\r\n  mainModel.game.snake.player.oriAxis.y = mainModel.game.snake.player.oriAxis.y * mainModel.game.snake.game.rectWidth;\r\n}\r\nlinkInfo();\r\n\r\nexport default mainModel;","/*\r\n * @Description: 全局事件监听\r\n * @Version: 1.0\r\n * @Autor: Pumpking\r\n * @Date: 2020-02-11 17:04:42\r\n * @LastEditors: Pumpking\r\n * @LastEditTime: 2020-02-18 16:20:32\r\n */\r\nimport $ from \"jquery\";\r\nimport mainModel from \"./model\";\r\n\r\nlet eventListenerFn = {\r\n  init() {\r\n    this.mouseMove();\r\n    this.mouseUp();\r\n    this.mouseDown();\r\n    this.mouseLeave();\r\n    this.keyDown();\r\n  },\r\n  mouseMove() {\r\n    $(\"#mainCanvas\").off('mousemove').on('mousemove', (e) => {\r\n      mainModel.cursor.isMoving = true;\r\n      mainModel.cursor.axisX = e.offsetX;\r\n      mainModel.cursor.axisY = e.offsetY;\r\n    });\r\n  },\r\n  mouseDown() {\r\n    $(\"#mainCanvas\").off('mousedown').on('mousedown', (e) => {\r\n      mainModel.cursor.isClicked = true;\r\n    });\r\n  },\r\n  mouseUp() {\r\n    $(\"#mainCanvas\").off('mouseup').on('mouseup', (e) => {\r\n      mainModel.cursor.isClicked = false;\r\n    });\r\n  },\r\n  mouseLeave() {\r\n    $(\"#mainCanvas\").off('mouseleave').on('mouseleave', (e) => {\r\n      mainModel.cursor.isClicked = false;\r\n    });\r\n  },\r\n  keyDown() {\r\n    $(window).off('keydown').on('keydown', (e) => {\r\n      if (mainModel.game.mode === 'snake') {\r\n        e.preventDefault();\r\n        const playerModel = mainModel.game[mainModel.game.mode].player;\r\n        const gameModel = mainModel.game[mainModel.game.mode].game;\r\n        gameModel.start = true;\r\n        switch (e.keyCode) {\r\n          case 37:\r\n            playerModel.position = \"left\";\r\n            break;\r\n          case 38:\r\n            playerModel.position = \"top\";\r\n            break;\r\n          case 39:\r\n            playerModel.position = \"right\";\r\n            break;\r\n          case 40:\r\n            playerModel.position = \"bottom\";\r\n            break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nexport default eventListenerFn;","/*\r\n * @Description: 公共方法\r\n * @Version: 1.0\r\n * @Autor: Pumpking\r\n * @Date: 2020-02-11 20:24:25\r\n * @LastEditors: Pumpking\r\n * @LastEditTime: 2020-02-15 14:43:53\r\n */\r\nlet utilsFn = {\r\n  /**\r\n   * @description: 获得一个随机数字\r\n   * @param {number} max 上限\r\n   * @param {number} min 下限\r\n   * @param {number} multiple 倍数，可填\r\n   * @return: 随机数字\r\n   * @author: Pumpking\r\n   */\r\n  getSimpleRandomNumber(max, min, multiple) {\r\n    let number = null;\r\n    if (!min) {\r\n      min = 0;\r\n    }\r\n    function getResult() {\r\n      if (min >= 0) {\r\n        number = Math.floor(Math.random() * (max - min + 1)) + min;\r\n      } else if (min < 0) {\r\n        let maxPer = 0,\r\n          minPer = 0,\r\n          randomPer;\r\n        if (max > 0) {\r\n          maxPer = max / (max - min);\r\n          minPer = -min / (max - min);\r\n          let randomSign = Math.random() > maxPer ? 'min' : 'max';\r\n          switch (randomSign) {\r\n            case 'max':\r\n              number = Math.floor(Math.random() * max);\r\n            case 'min':\r\n              number = -Math.floor(Math.random() * (-min));\r\n          }\r\n        } else {\r\n          number = -Math.floor(Math.random() * ((-min) - (-max) + 1)) + (-max);\r\n        }\r\n      }\r\n    }\r\n    if (multiple) {\r\n      while (number === null || (number / multiple) % 1 !== 0) {\r\n        getResult();\r\n      }\r\n    } else {\r\n      getResult();\r\n    }\r\n    \r\n    return number;\r\n  },\r\n  /**\r\n   * @description: 生成随机颜色\r\n   * @param {null} \r\n   * @return: 随机颜色\r\n   * @author: Pumpking\r\n   */\r\n  getSimpleRandomColor() {\r\n    return '#' + Math.floor(Math.random() * 0xffffff).toString(16);\r\n  },\r\n  /**\r\n   * @description: 从数组中随机一个值\r\n   * @param {array} array 数组\r\n   * @return: 随机值\r\n   * @author: Pumpking\r\n   */\r\n  getRandomItemFromArray(array) {\r\n    return array[Math.floor(Math.random() * array.length)];\r\n  }\r\n};\r\n\r\nexport default utilsFn;","/*\r\n * @Description: canvas api封装\r\n * @Version: 1.0\r\n * @Autor: Pumpking\r\n * @Date: 2020-02-11 16:13:25\r\n * @LastEditors: Pumpking\r\n * @LastEditTime: 2020-02-15 14:43:21\r\n */\r\nimport $ from \"jquery\";\r\nimport mainModel from \"./model\";\r\n\r\nlet canvasFn = {\r\n  /**\r\n   * @description: 设置canvas为全屏\r\n   * @param {object} node canvas节点\r\n   * @return: void\r\n   * @author: Pumpking\r\n   */\r\n  setCanvasToFullScreen(node) {\r\n    node.width =  mainModel.clientWidth;\r\n    node.height =  mainModel.clientHeight;\r\n  },\r\n  /**\r\n   * @description: 绘制线\r\n   * @param {object} ctx canvas\r\n   * @param {array} array 包含顺序路径点坐标的数组，eg.[{x: 0, y: 0}]\r\n   * @param {string} 线条颜色，不填默认黑色\r\n   * @param {number} 线条宽度，不填默认1\r\n   * @return: void\r\n   * @author: Pumpking\r\n   */\r\n  drawLine(ctx, array, color, width) {\r\n    color = color || '#000';\r\n    width = width || 1;\r\n    \r\n    ctx.beginPath();\r\n    ctx.moveTo(array[0].x, array[0].y);\r\n    $.each(array, (i, item) => {\r\n      ctx.lineTo(item.x, item.y);\r\n    });\r\n    ctx.closePath();\r\n    ctx.lineWidth = width;\r\n    ctx.strokeStyle = color;\r\n    ctx.stroke();\r\n  },\r\n  /**\r\n   * @description: 绘制矩形\r\n   * @param {object} ctx canvas\r\n   * @param {number} x x坐标\r\n   * @param {number} y y坐标\r\n   * @param {number} w 宽度\r\n   * @param {number} h 高度\r\n   * @param {string} color 填充颜色\r\n   * @param {boolean} isEmpty 是否空心\r\n   * @param {string} borderColor 边框颜色\r\n   * @return: void\r\n   * @author: Pumpking\r\n   */  \r\n  drawRect(ctx, x, y, w, h, color, isEmpty, borderColor, borderWidth) {\r\n    ctx.lineWidth = borderWidth || 1;\r\n    if (isEmpty === true) {\r\n      ctx.strokeStyle = borderColor;\r\n      ctx.strokeRect(x, y, w, h);\r\n    } else {\r\n      ctx.fillStyle = color;\r\n      ctx.fillRect(x, y, w, h);\r\n    }\r\n  },\r\n  /**\r\n   * @description: 清除矩形\r\n   * @param {object} ctx canvas\r\n   * @param {number} x x坐标\r\n   * @param {number} y y坐标\r\n   * @param {number} w 宽度\r\n   * @param {number} h 高度\r\n   * @return: void\r\n   * @author: Pumpking\r\n   */  \r\n  clearRect(ctx, x, y, w, h) {\r\n    ctx.clearRect(x, y, w, h);\r\n  },\r\n  /**\r\n   * @description: 绘制图片\r\n   * @param {object} ctx canvas\r\n   * @param {object} image 图片节点\r\n   * @param {number} x x坐标\r\n   * @param {number} y y坐标\r\n   * @param {number} w 宽度\r\n   * @param {number} h 高度\r\n   * @return: void\r\n   * @author: Pumpking\r\n   */  \r\n  drawPic(ctx, image, x, y, w, h) {\r\n    ctx.drawImage(image, x, y, w, h);\r\n  }\r\n};\r\n\r\nexport default canvasFn;","/*\r\n * @Description: 总控制器\r\n * @Version: 1.0\r\n * @Autor: Pumpking\r\n * @Date: 2020-02-11 16:56:12\r\n * @LastEditors: Pumpking\r\n * @LastEditTime: 2020-02-15 14:45:25\r\n * TODO: \r\n * 1.自碰判断\r\n * 2.倒走判断\r\n * 3.加速\r\n * 4.食物增长开关\r\n * 5.计分\r\n * 6.菜单\r\n * 8.皮肤\r\n * 9.多人\r\n * 10.自食截断\r\n */\r\nimport eventListenerFn from \"./eventListener\";\r\nimport utils from \"./utils\";\r\nimport canvasFn from \"./canvasFn\";\r\nimport mainModel from \"./model\";\r\nimport $ from \"jquery\";\r\n\r\nlet controllerFn = {\r\n  init() {\r\n    canvasFn.setCanvasToFullScreen(mainModel.canvasNode);\r\n    eventListenerFn.init();\r\n    window.requestAnimationFrame(this.canvasControllerMainFn);\r\n  },\r\n  canvasControllerMainFn() {\r\n    // 界面清除--放最前\r\n    controllerFn.clearAll();\r\n    // 界面渲染--放中间\r\n    controllerFn.game[mainModel.game.mode].drawGame();\r\n    // 鼠标特效渲染--放最后\r\n    if (mainModel.cursor.axisX && mainModel.cursor.axisY && mainModel.cursor.isClicked) {\r\n      controllerFn.cursor.drawAnimation();\r\n    } else {\r\n      controllerFn.cursor.resetInfo();\r\n    }\r\n    window.requestAnimationFrame(controllerFn.canvasControllerMainFn);\r\n  },\r\n  clearAll() {\r\n    canvasFn.clearRect(mainModel.ctx, 0, 0, mainModel.clientWidth, mainModel.clientHeight);\r\n  },\r\n  game: {\r\n    snake: {\r\n      drawGame() {\r\n        this.drawWall();\r\n        this.drawPlayer();\r\n      },\r\n      drawWall() {\r\n        const gameModel = mainModel.game.snake.game;\r\n        const wallModel = mainModel.game.snake.wall;\r\n        const x = wallModel.x + gameModel.rectWidth / 2;\r\n        const y = wallModel.y + gameModel.rectWidth / 2;\r\n        wallModel.axis = [{\r\n            x: x,\r\n            y: y\r\n          },\r\n          {\r\n            x: x + wallModel.w,\r\n            y: y\r\n          },\r\n          {\r\n            x: x + wallModel.w,\r\n            y: y + wallModel.h\r\n          },\r\n          {\r\n            x: x,\r\n            y: y + wallModel.h\r\n          },\r\n        ];\r\n        canvasFn.drawLine(mainModel.ctx, wallModel.axis, wallModel.color, gameModel.rectWidth);\r\n      },\r\n      drawPlayer() {\r\n        this.generatePlayerInfo();\r\n        this.drawPlayerByInfo();\r\n\r\n        this.generateFoodInfo();\r\n        this.drawFoodByInfo();\r\n\r\n        this.playerMoveByPosition();\r\n        this.eatFood();\r\n        this.checkCollision();\r\n      },\r\n      generatePlayerInfo() {\r\n        const model = mainModel.game.snake;\r\n        if (model.game.start === false) {\r\n          model.player.axis = [];\r\n          for (let i = 0; i < model.player.oriLength; i++) {\r\n            model.player.axis.push({\r\n              x: model.player.oriAxis.x + i * model.game.rectWidth,\r\n              y: model.player.oriAxis.y\r\n            });\r\n          }\r\n        } else {\r\n\r\n        }\r\n      },\r\n      resetInfo() {\r\n        const model = mainModel.game.snake;\r\n        \r\n        model.game.start = false;\r\n\r\n        model.player.position = 'right';\r\n        model.player.count = 0;\r\n        model.player.length = model.player.oriLength;\r\n\r\n        model.food.axis = [];\r\n      },\r\n      drawPlayerByInfo() {\r\n        const gameModel = mainModel.game.snake.game;\r\n        const playerModel = mainModel.game.snake.player;\r\n        $.each(playerModel.axis, (i, item) => {\r\n          canvasFn.drawRect(mainModel.ctx, item.x, item.y, gameModel.rectWidth, gameModel.rectWidth, playerModel.color);\r\n        });\r\n      },\r\n      playerMoveByPosition() {\r\n        const gameModel = mainModel.game.snake.game;\r\n        const playerModel = mainModel.game.snake.player;\r\n        playerModel.count = playerModel.count || 0;\r\n        if (gameModel.start === true) {\r\n          playerModel.count++;\r\n          if (playerModel.count === playerModel.countInterval) {\r\n            \r\n            if (playerModel.eating === true) {\r\n              playerModel.eating = false;\r\n            } else {\r\n              playerModel.axis.shift(0);\r\n            }\r\n\r\n            const tempObj = JSON.parse(JSON.stringify(playerModel.axis[playerModel.axis.length - 1]));\r\n            if (playerModel.position === 'right') {\r\n              tempObj.x = tempObj.x + gameModel.rectWidth;\r\n            } else if (playerModel.position === 'left') {\r\n              tempObj.x = tempObj.x - gameModel.rectWidth;\r\n            } else if (playerModel.position === 'top') {\r\n              tempObj.y = tempObj.y - gameModel.rectWidth;\r\n            } else if (playerModel.position === 'bottom') {\r\n              tempObj.y = tempObj.y + gameModel.rectWidth;\r\n            }\r\n            playerModel.axis.push(tempObj);\r\n            playerModel.count = 0;\r\n          }\r\n        }\r\n      },\r\n      checkCollision() {\r\n        const gameModel = mainModel.game.snake.game;\r\n        const wallModel = mainModel.game.snake.wall;\r\n        const playerModel = mainModel.game.snake.player;\r\n        const lastAxis = playerModel.axis[playerModel.axis.length - 1];\r\n        if (lastAxis.x < wallModel.x + gameModel.rectWidth || lastAxis.x > wallModel.x + wallModel.w - gameModel.rectWidth || lastAxis.y < wallModel.y + gameModel.rectWidth || lastAxis.y > wallModel.y + wallModel.h - gameModel.rectWidth) {\r\n          this.resetInfo();\r\n        }\r\n      },\r\n      generateFoodInfo() {\r\n        const foodModel = mainModel.game.snake.food;\r\n        const gameModel = mainModel.game.snake.game;\r\n        const wallModel = mainModel.game.snake.wall;\r\n\r\n        foodModel.axis = foodModel.axis || [];\r\n        if (gameModel.start === true && foodModel.axis.length < foodModel.count) {\r\n          for (let i = 0; i < foodModel.count; i++) {\r\n            foodModel.axis.push({\r\n              x: utils.getSimpleRandomNumber(wallModel.x + wallModel.w - gameModel.rectWidth, wallModel.x + gameModel.rectWidth, gameModel.rectWidth),\r\n              y: utils.getSimpleRandomNumber(wallModel.y + wallModel.h - gameModel.rectWidth, wallModel.y + gameModel.rectWidth, gameModel.rectWidth),\r\n              color: utils.getSimpleRandomColor()\r\n            });\r\n          }\r\n        }\r\n      },\r\n      drawFoodByInfo() {\r\n        const gameModel = mainModel.game.snake.game;\r\n        const foodModel = mainModel.game.snake.food;\r\n        $.each(foodModel.axis, (i, item) => {\r\n          canvasFn.drawRect(mainModel.ctx, item.x, item.y, gameModel.rectWidth, gameModel.rectWidth, item.color);\r\n        });\r\n      },\r\n      eatFood() {\r\n        const foodModel = mainModel.game.snake.food;\r\n        const playerModel = mainModel.game.snake.player;\r\n        const wallModel = mainModel.game.snake.wall;\r\n        const gameModel = mainModel.game.snake.game;\r\n        \r\n        const headAxis = playerModel.axis[playerModel.axis.length - 1];\r\n\r\n        if (gameModel.start === true) {\r\n          for (let i = 0; i < foodModel.count; i++) {\r\n            if (foodModel.axis[i].x == headAxis.x && foodModel.axis[i].y == headAxis.y) {\r\n              foodModel.axis[i].x = utils.getSimpleRandomNumber(wallModel.x + wallModel.w, wallModel.x, gameModel.rectWidth);\r\n              foodModel.axis[i].y = utils.getSimpleRandomNumber(wallModel.y + wallModel.h, wallModel.y, gameModel.rectWidth);\r\n              foodModel.axis[i].color = utils.getSimpleRandomColor();\r\n\r\n              playerModel.eating = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  cursor: {\r\n    drawAnimation() {\r\n      const rectModel = mainModel.cursor.rect;\r\n\r\n      rectModel.count = rectModel.count || 0;\r\n      rectModel.count++;\r\n      rectModel.randomInfoArray = rectModel.randomInfoArray || [];\r\n      rectModel.imageArray = rectModel.imageArray || [];\r\n\r\n      if (rectModel.mode === 'picture' && rectModel.imageArray.length === 0) {\r\n        $.each(rectModel.picArray, (i, item) => {\r\n          let image = new Image();\r\n          image.src = item;\r\n          rectModel.imageArray.push(image);\r\n        });\r\n      }\r\n\r\n      if (rectModel.count === rectModel.countInterval) {\r\n        if (rectModel.randomInfoArray.length === rectModel.showNumber) {\r\n          rectModel.currentIndex = rectModel.currentIndex || 0;\r\n          rectModel.randomInfoArray[rectModel.currentIndex] = controllerFn.cursor.generateInfo(mainModel.cursor);\r\n          if (rectModel.currentIndex === rectModel.randomInfoArray.length - 1) {\r\n            rectModel.currentIndex = 0;\r\n          } else {\r\n            rectModel.currentIndex++;\r\n          }\r\n        } else {\r\n          rectModel.randomInfoArray.push(controllerFn.cursor.generateInfo(mainModel.cursor));\r\n        }\r\n        rectModel.count = 0;\r\n      }\r\n      $.each(rectModel.randomInfoArray, (i, item) => {\r\n        if (rectModel.mode === 'rect') {\r\n          this.drawRectByRandomInfo(item);\r\n        } else if (rectModel.mode === 'picture') {\r\n          this.drawPicByRandomInfo(item);\r\n        }\r\n      });\r\n    },\r\n    resetInfo() {\r\n      const rectModel = mainModel.cursor.rect;\r\n      rectModel.randomInfoArray = [];\r\n      rectModel.count = 0;\r\n      rectModel.currentIndex = 0;\r\n    },\r\n    generateInfo(cursor) {\r\n      const rectModel = mainModel.cursor.rect;\r\n      const randomRectInfo = {\r\n        x: cursor.axisX,\r\n        y: cursor.axisY,\r\n        randomOffsetX: utils.getSimpleRandomNumber(rectModel.offsetXScope[0], rectModel.offsetXScope[1]),\r\n        randomOffsetY: utils.getSimpleRandomNumber(rectModel.offsetYScope[0], rectModel.offsetYScope[1]),\r\n        randomWidth: utils.getSimpleRandomNumber(rectModel.widthScope[0], rectModel.widthScope[1]),\r\n        randomColor: utils.getSimpleRandomColor(),\r\n        randomImage: utils.getRandomItemFromArray(rectModel.imageArray)\r\n      }\r\n      randomRectInfo.randomHeight = randomRectInfo.randomWidth;\r\n      return randomRectInfo;\r\n    },\r\n    drawRectByRandomInfo(obj) {\r\n      canvasFn.drawRect(mainModel.ctx, obj.x + obj.randomOffsetX - obj.randomWidth / 2, obj.y + obj.randomOffsetY - obj.randomHeight / 2, obj.randomWidth, obj.randomHeight, null, true, obj.randomColor, mainModel.cursor.rect.borderWidth);\r\n    },\r\n    drawPicByRandomInfo(obj) {\r\n      canvasFn.drawPic(mainModel.ctx, obj.randomImage, obj.x + obj.randomOffsetX - obj.randomWidth / 2, obj.y + obj.randomOffsetY - obj.randomHeight / 2, obj.randomWidth, obj.randomHeight);\r\n    }\r\n  }\r\n};\r\n\r\nexport default controllerFn;","/*\r\n * @Description: 主函数\r\n * @Version: 1.0\r\n * @Autor: Pumpking\r\n * @Date: 2020-02-11 16:13:25\r\n * @LastEditors: Pumpking\r\n * @LastEditTime: 2020-02-15 14:45:38\r\n */\r\nimport controllerFn from \"./controller\";\r\n\r\nlet mainObj = {\r\n  init() {\r\n    controllerFn.init();\r\n  }\r\n};\r\n\r\nexport default mainObj;","\"use strict\";\r\n\r\nimport \"./vendor/flexble/base.css\";\r\nimport \"./vendor/flexble/flexible\";\r\n\r\nimport \"./style.css\";\r\n\r\nimport $ from \"jquery\";\r\nimport mainFn from \"./js/main\";\r\n\r\n$(document).ready(() => {\r\n  init();\r\n  hotModuleSet();\r\n});\r\n\r\nfunction init() {\r\n  compatibility();\r\n  mainFn.init();\r\n}\r\n\r\nfunction compatibility() {\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = (\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.msRquestAniamtionFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      function (callback) {\r\n        return setTimeout(callback, Math.floor(1000 / 60))\r\n      }\r\n    )\r\n  }\r\n}\r\n\r\nfunction hotModuleSet() {\r\n  if (module.hot) {\r\n    module.hot.accept(\"./js/main.js\", function () {\r\n      console.log(\"热部署模块更新\");\r\n      init();\r\n    });\r\n  }\r\n\r\n  if (process.env.NODE_ENV !== \"production\") {\r\n    console.log(\"Looks like we are in development mode!\");\r\n  }\r\n}"],"sourceRoot":""}